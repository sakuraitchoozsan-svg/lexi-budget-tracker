<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Lexi‚Äôs Budget Tracker üêæ</title>
  <link rel="manifest" href="manifest.json"/>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body { font-family: 'Segoe UI', sans-serif; background-color:#fff0f6; }
    .tab { display:none; }
    .active-tab { display:block; }
  </style>
</head>
<body class="text-gray-800">
  <!-- Header -->
  <header class="bg-pink-300 text-white p-4 flex justify-between items-center">
    <h1 class="text-xl font-bold">Lexi‚Äôs Budget Tracker üêæ</h1>
    <div>
      <span id="clock" class="mr-2"></span>
      <span id="date"></span>
      <span id="weather" class="ml-2"></span>
    </div>
  </header>

  <!-- Motivational Quote -->
  <section class="bg-pink-100 p-2 text-center italic">
    <span id="quote">Loading quote...</span>
  </section>

  <!-- Navigation -->
  <nav class="flex overflow-x-auto bg-pink-200 p-2 gap-2 text-sm">
    <button data-tab="dashboard" class="px-3 py-1 rounded-xl bg-pink-400 text-white">Dashboard</button>
    <button data-tab="quick-setup" class="px-3 py-1 rounded-xl">Quick Setup</button>
    <button data-tab="transactions" class="px-3 py-1 rounded-xl">Transactions</button>
    <button data-tab="budgets" class="px-3 py-1 rounded-xl">Budgets</button>
    <button data-tab="savings" class="px-3 py-1 rounded-xl">Savings</button>
    <button data-tab="salary" class="px-3 py-1 rounded-xl">Salary</button>
    <button data-tab="calendar" class="px-3 py-1 rounded-xl">Calendar</button>
    <button data-tab="reports" class="px-3 py-1 rounded-xl">Reports</button>
    <button data-tab="history" class="px-3 py-1 rounded-xl">History</button>
    <button data-tab="settings" class="px-3 py-1 rounded-xl">Settings</button>
  </nav>

  <!-- Tabs -->
  <main class="p-4">
    <!-- Dashboard -->
    <section id="dashboard" class="tab active-tab">
      <h2 class="font-bold text-lg mb-2">Dashboard</h2>
      <div class="grid gap-2 md:grid-cols-2 lg:grid-cols-3">
        <div class="bg-white rounded-xl p-3 shadow">Running Pay Period Income: <span id="runningPayPeriod"></span></div>
        <div class="bg-white rounded-xl p-3 shadow">Running Monthly Income: <span id="runningMonthly"></span></div>
        <div class="bg-white rounded-xl p-3 shadow">Total Expenses: <span id="totalExpenses"></span></div>
        <div class="bg-white rounded-xl p-3 shadow">Balance: <span id="balance"></span></div>
        <div class="bg-white rounded-xl p-3 shadow">Savings Rate: <span id="savingsRate"></span></div>
        <div class="bg-white rounded-xl p-3 shadow">Total Savings: <span id="totalSavings"></span></div>
      </div>

      <!-- Profile -->
      <div class="bg-white rounded-xl p-3 shadow mt-4">
        <h3 class="font-bold mb-1">Profile Info</h3>
        <p>Name: <input id="profile-name" value="Lexi Natividad Tamot" class="border rounded p-1"/></p>
        <p>Phone: <input id="profile-phone" value="09619128418" class="border rounded p-1"/></p>
        <p>Email: <input id="profile-email" value="tamotnicko1999@gmail.com" class="border rounded p-1"/></p>
      </div>

      <!-- Pay Period Summary -->
      <div class="bg-white rounded-xl p-3 shadow mt-4">
        <h3 class="font-bold">Pay Period Summary</h3>
        <div>Previous Pay Period: <span id="prevPay"></span></div>
        <div>Current Pay Period: <span id="currPay"></span></div>
      </div>

      <!-- Charts -->
      <canvas id="chart-income" class="mt-4"></canvas>
      <canvas id="chart-expenses" class="mt-4"></canvas>
      <canvas id="chart-savings" class="mt-4"></canvas>
    </section>

    <!-- Quick Setup -->
    <section id="quick-setup" class="tab">Quick Setup content...</section>

    <!-- Transactions -->
    <section id="transactions" class="tab">Transactions content...</section>

    <!-- Budgets -->
    <section id="budgets" class="tab">
      <h2 class="font-bold text-lg mb-2">Monthly Budget</h2>
      <table class="w-full text-sm">
        <thead><tr><th>Category</th><th>Planned</th><th>Actual</th><th>Diff</th><th>Progress</th><th></th></tr></thead>
        <tbody id="budget-tbody"></tbody>
      </table>
    </section>

    <!-- Savings -->
    <section id="savings" class="tab">
      <h2 class="font-bold text-lg mb-2">Savings & Goals</h2>
      <ul id="savings-list"></ul>
    </section>

    <!-- Salary -->
    <section id="salary" class="tab">Salary tracker content...</section>

    <!-- Calendar -->
    <section id="calendar" class="tab">Calendar content...</section>

    <!-- Reports -->
    <section id="reports" class="tab">Reports content...</section>

    <!-- History -->
    <section id="history" class="tab">
      <h2 class="font-bold text-lg mb-2">History</h2>
      <div class="flex gap-2">
        <button>Recent</button><button>Income</button><button>Savings</button>
        <button>Expenses</button><button>Previous Pay</button><button>Current Pay</button>
      </div>
      <div id="history-content" class="mt-2"></div>
    </section>

    <!-- Settings -->
    <section id="settings" class="tab">Settings content...</section>
  </main>

  <!-- Scripts -->
  <script>
    // Tab switching
    document.querySelectorAll("nav button").forEach(btn=>{
      btn.addEventListener("click",()=>{
        document.querySelectorAll(".tab").forEach(tab=>tab.classList.remove("active-tab"));
        document.getElementById(btn.dataset.tab).classList.add("active-tab");
      });
    });

    // Clock
    function startClock(){
      setInterval(()=>{
        const now=new Date();
        document.getElementById("clock").textContent = now.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"});
        document.getElementById("date").textContent = now.toLocaleDateString("en-US",{weekday:"long", year:"numeric", month:"long", day:"numeric"});
      },1000);
    }

    // Weather
    async function loadWeather(){
      try{
        const r= await fetch("https://api.open-meteo.com/v1/forecast?latitude=7.0731&longitude=125.6128&current_weather=true");
        const j= await r.json();
        document.getElementById("weather").textContent = j.current_weather.temperature+"¬∞C";
      }catch{ document.getElementById("weather").textContent="--"; }
    }

    // Quote
    async function loadQuote(){
      try{
        const r= await fetch("https://api.quotable.io/random");
        const j= await r.json();
        document.getElementById("quote").textContent=j.content;
      }catch{ document.getElementById("quote").textContent="Stay positive üêæ"; }
    }

    // Charts
    function initCharts(){
      new Chart(document.getElementById("chart-income"),{type:"line",data:{labels:["Jan","Feb"],datasets:[{label:"Income",data:[0,0],borderColor:"#ec4899"}]}});
      new Chart(document.getElementById("chart-expenses"),{type:"line",data:{labels:["Jan","Feb"],datasets:[{label:"Expenses",data:[0,0],borderColor:"#f87171"}]}});
      new Chart(document.getElementById("chart-savings"),{type:"line",data:{labels:["Jan","Feb"],datasets:[{label:"Savings",data:[0,0],borderColor:"#34d399"}]}});
    }

    // Init
    window.addEventListener("load",()=>{
      startClock();
      loadWeather();
      loadQuote();
      initCharts();
    });
  </script>
</body>
</html>
